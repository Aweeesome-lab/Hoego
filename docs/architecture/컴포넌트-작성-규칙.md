# 컴포넌트 작성 규칙

## 컴포넌트 주석 (JSDoc)

**모든 export된 컴포넌트에 필수:**

```typescript
/**
 * 일지 작성 패널 - 사용자가 일일 일지를 작성하는 메인 컴포넌트
 * @param content - 작성 중인 일지 내용
 * @param onSave - 저장 버튼 클릭 시 호출
 * @param initialContent - 초기 일지 내용 (수정 모드)
 * @param autoSave - 자동 저장 활성화 여부 (기본: false)
 */
export function DumpPanel({
  content,
  onSave,
  initialContent = '',
  autoSave = false
}: DumpPanelProps) {
  // ...
}
```

**작은 컴포넌트:**
```typescript
/**
 * 파일 항목 - 히스토리 목록의 개별 파일 표시
 */
export function FileItem({ file, onClick }: FileItemProps) {
  // ...
}
```

**내부 컴포넌트 (export 안함):**
```typescript
// 간단한 주석으로 충분
// 덤프 패널 헤더 - 저장 버튼 포함
function DumpHeader({ onSave }: { onSave: () => void }) {
  // ...
}
```

## 컴포넌트 파일 구조

```typescript
// 1. Imports
import { useState } from 'react';
import { Button } from '@/components/ui/button';
import type { DumpData } from '@/types/dump';

// 2. Types (파일 내부에서만 사용)
interface DumpPanelProps {
  initialContent?: string;
  onSave: (content: string) => void;
}

// 3. Constants (컴포넌트 전용)
const MAX_CONTENT_LENGTH = 10000;

// 4. Main Component
export function DumpPanel({ initialContent = '', onSave }: DumpPanelProps) {
  // 4-1. Hooks
  const [content, setContent] = useState(initialContent);

  // 4-2. Handlers
  const handleSave = () => {
    onSave(content);
  };

  // 4-3. Effects
  useEffect(() => {
    // ...
  }, []);

  // 4-4. Render
  return (
    <div className="dump-panel">
      {/* ... */}
    </div>
  );
}

// 5. Sub-components (export 필요 시에만)
function DumpHeader({ onSave }: { onSave: () => void }) {
  return <header>{/* ... */}</header>;
}
```

## Import 순서

```typescript
// 1. External dependencies
import { useState, useEffect } from 'react';
import { toast } from 'react-hot-toast';

// 2. Internal - components
import { Button } from '@/components/ui/button';
import { DumpPanel } from '@/components/panels/dump-panel';

// 3. Internal - hooks, services, utils
import { useHistory } from '@/hooks/useHistory';
import { historyService } from '@/services/historyService';
import { formatDate } from '@/utils/datetime';

// 4. Internal - types, constants
import type { DumpData } from '@/types/dump';
import { AI_PROMPTS } from '@/constants';

// 5. Styles (if any)
import './dump-panel.css';
```

## 컴포넌트 분리 기준

```yaml
분리 필요:
  ✅ 200줄 이상
  ✅ 2곳 이상에서 재사용
  ✅ 독립적인 기능
  ✅ 복잡한 앱 (history, settings)

분리 불필요:
  ❌ 한 곳에서만 사용하는 작은 컴포넌트
  ❌ 50줄 이하 헬퍼 컴포넌트
  ❌ 부모 컴포넌트와 강하게 결합된 것
```

**실용적 원칙:**
- 1-2단어 파일명 선호 (폴더로 컨텍스트 제공)
- 과도한 분리 지양 (복잡도 증가 방지)
- 폴더 depth 최대 2단계

---
