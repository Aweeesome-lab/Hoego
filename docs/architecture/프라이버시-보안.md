# 프라이버시 & 보안

## 로깅 정책

**Rust (tracing):**

```rust
// 개발 환경: ERROR 레벨
// RUST_LOG=error cargo run

use tracing::{error, warn, info, debug};

// ✅ 허용
error!("Failed to save dump: error_code={}", "FILE_NOT_FOUND");
error!("Permission denied for path: {}", sanitized_path);

// ❌ 절대 금지
error!("User content: {}", user_content);  // 사용자 콘텐츠
error!("AI response: {}", ai_response);    // AI 응답
```

**TypeScript:**

```typescript
// 개발 환경에서만
if (import.meta.env.DEV) {
  console.error('Error code:', errorCode);  // 에러 코드만
}

// ❌ 절대 금지
console.log(dumpContent);      // 사용자 콘텐츠
console.log(userSettings);     // 사용자 설정
console.log(aiResponse);       // AI 응답
```

**프로덕션 빌드:**
```javascript
// vite.config.ts
export default defineConfig({
  build: {
    minify: 'terser',
    terserOptions: {
      compress: {
        drop_console: true,  // console.* 제거
        drop_debugger: true,
      },
    },
  },
});
```

## PII 보호

**모든 로그는 pii_masker 통과:**

```rust
// src-tauri/src/utils/pii_masker.rs
pub fn mask_pii(content: &str) -> String {
    // 이메일, 전화번호, 주소 등 마스킹
    // 구현 세부사항은 기존 코드 참고
}
```

## LLM 데이터 전송 최소화

```rust
// ✅ 필요한 컨텍스트만
let context = strip_metadata(&user_content);
send_to_llm(context);

// ❌ 전체 데이터 전송 금지
send_to_llm(&full_dump_data);  // 메타데이터 포함
```

---
